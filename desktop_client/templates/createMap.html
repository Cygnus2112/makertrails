<div ng-controller="MapController">
<div id="mapContainer">
  <trail-map ng-model="selectedLocations"></trail-map>
  <div id="trailsForm">
    <form ng-submit="createMap()">
      <label for="map-name">Trail Name:</label><br>
      <input type="text" id="map-name" ng-model="mapInfo.name" autocomplete="off"><br>
      <label for="map-description">Trail Description:</label><br>
      <textarea id="map-description" ng-model="mapInfo.description" rows=4></textarea><br>
      Trail Locations:
      <ul>
        <li ng-repeat="location in selectedLocations">
          <div class="edit-location" ng-switch on="location.editing">
            <div ng-switch-when="true">
                <input type="text" ng-model="location.name" autofocus onfocus="this.select()">
                <button class="button" type="submit" value="Save" ng-click="refreshMap(selectedLocations, $index, map)">Save</button>
                <button class="redButton" ng-click="removeLocation(selectedLocations, $index, map)">X</button><br>
            </div>
            <div ng-switch-when="false"
                ng-click="location.editing = true">
              {{location.name}}
            </div>
          </div>
        </li>
      </ul>
      <div class="section">
        <button class="button" type="submit">Create Map</button>
      </div>
    </form>
    <div class="section">
      <button class="redButton" ng-controller="LogoutController" ng-click="logout()">Logout</button>
    </div>
  </div>
</div>
